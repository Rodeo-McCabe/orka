with "opengl_shared";
with "opengl";

library project OpenGL.Glfw is
   for Languages use ("ada");
   
   for Library_Name use "GlfwAda";
   for Library_Kind use OpenGL_Shared'Library_Kind;

   GLFW_Sources := ("src/glfw", "src/glfw");
   Shared_Test_Sources := ("tests/shared");
   GLFW_Lib := "-lglfw";
   
   for Source_Dirs use GLFW_Sources;
   for Object_Dir use "obj";
   for Library_Dir use "lib";

   package Ide renames OpenGL_Shared.Ide;
   package Builder renames OpenGL_Shared.Builder;
   package Compiler renames OpenGL_Shared.Compiler;
   
   package Linker is
      case OpenGL_Shared.Windowing_System is
         when "quartz" =>
            for Linker_Options use (GLFW_Lib, "-Wl,-framework,Cocoa,-framework,IOKit");
         when "windows" =>
            for Linker_Options use (GLFW_Lib, "-lwinmm", "-lgdi32");
         when "x11" =>
		      -- -lX11 is already set in opengl.gpr
            for Linker_Options use (GLFW_Lib);
      end case;
   end Linker;
end OpenGL.Glfw;
